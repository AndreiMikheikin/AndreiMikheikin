<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MenuHelper - Your assistant for managing menus and user roles">
    <title>MenuHelper</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">
    <link rel="shortcut icon" href="images/icons/favicon.svg" type="image/x-icon">
    <link rel="stylesheet" href="src/styles/main.css">
</head>

<body>
    <header>
        <svg id="logo" width="200" height="70" version="1.1" viewBox="0 0 52.917 18.521" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs>
             <linearGradient id="a">
              <stop stop-color="#c94f4f" offset="0"/>
              <stop stop-color="#c42424" stop-opacity="0" offset="1"/>
             </linearGradient>
             <radialGradient id="c" cx="24.018" cy="289.92" r="2.7064" gradientTransform="matrix(4.4484 4.567 -2.0604 2.0069 499.33 -401.19)" gradientUnits="userSpaceOnUse" xlink:href="#a"/>
             <radialGradient id="b" cx="24.018" cy="289.92" r="2.7064" gradientTransform="matrix(-4.4484 -4.567 2.0604 -2.0069 -479.31 981.96)" gradientUnits="userSpaceOnUse" xlink:href="#a"/>
            </defs>
            <g transform="translate(0 -278.48)">
             <g transform="matrix(1.2738 0 0 1.2738 -.32253 -82.143)">
              <g transform="translate(-5.4334 -1.625e-6)" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.3229">
               <path d="m8.8261 290.34 4.6148-3.938 1e-6 9.0451-3.015-2.4612" stroke="#000"/>
               <path d="m11.197 290.43-4.6148 3.938v-9.0451l3.015 2.4612" stroke="#000"/>
               <path d="m11.197 290.43-4.6148 3.938v-9.0451l3.015 2.4612" stroke="url(#c)"/>
               <path d="m8.8261 290.34 4.6148-3.938v9.0451l-3.015-2.4612" stroke="url(#b)"/>
              </g>
              <text x="25.174746" y="291.13916" fill="#c94f4f" font-family="sans-serif" font-size="5.6444px" font-weight="bold" letter-spacing="0px" stroke="#713737" stroke-width=".26458" text-align="center" text-anchor="middle" word-spacing="0px" style="font-feature-settings:Bold;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1" xml:space="preserve"><tspan x="25.174746" y="291.13916" fill="#c94f4f" font-family="sans-serif" font-size="5.6444px" font-weight="bold" stroke="#713737" stroke-width=".26458" text-align="center" text-anchor="middle" style="font-feature-settings:Bold;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal">enuHelper</tspan></text>
             </g>
            </g>
           </svg>
    </header>

    <!-- Приветственное модальное окно -->
    <div class="modal hidden" id="welcome-modal" role="dialog" aria-labelledby="welcome-message">
        <div class="modal-content">
            <h2 id="welcome-message"></h2>
        </div>
        <button class="close-button" id="close-button" aria-label="Закрыть модальное окно"><span class="material-icons-outlined">close</span></button>
    </div>

    <main>
        <!-- Контейнер аутентификации -->
        <div class="container" id="auth-container">
            <h2 id="form-title">Вход</h2>
            <div class="role-selection">
                <button class="admin" onclick="selectRole('admin')" aria-label="Выбрать роль администратора">Администратор</button>
                <button class="user" onclick="selectRole('user')" aria-label="Выбрать роль пользователя">Пользователь</button>
            </div>
            <form id="auth-form" onsubmit="handleSubmit(event)">
                <input type="hidden" id="role" name="role">
                <input type="email" id="email" name="email" placeholder="Email" required oninput="validateForm()">
                <input type="password" id="password" name="password" placeholder="Пароль" required oninput="validateForm()">
                <input type="password" id="confirm-password" name="confirm-password" placeholder="Подтвердите пароль" class="hidden" oninput="validateForm()">
                <div id="password-requirements" class="password-requirements hidden">
                    <div class="requirement" id="length-check">
                        <span class="check">✓</span> Не менее 8 символов
                    </div>
                    <div class="requirement" id="lowercase-check">
                        <span class="check">✓</span> Минимум одна строчная буква
                    </div>
                    <div class="requirement" id="uppercase-check">
                        <span class="check">✓</span> Минимум одна заглавная буква
                    </div>
                    <div class="requirement" id="number-check">
                        <span class="check">✓</span> Минимум одна цифра
                    </div>
                    <div class="requirement" id="match-check">
                        <span class="check">✓</span> Пароли совпадают
                    </div>
                </div>
                <button type="submit" id="submit-btn" disabled>Войти</button>
            </form>
            <div class="toggle-link" id="toggle-link" onclick="toggleForm()">Нет аккаунта? Регистрация</div>
            <div class="forgot-password-link" onclick="toggleForgotPasswordForm()">Забыли пароль?</div>
        </div>
        
        <!-- Контейнер панели администратора -->
        <div class="container desktop hidden" id="admin-dashboard-container">
            <!-- Иконки будут загружены из admin.js -->
        </div>

        <div id="admin-dashboard-content" class="desktop">
            <!-- Контент будет загружен из admin.js -->
        </div>

        <!-- Контейнер панели пользователя -->
        <div class="container desktop hidden" id="user-dashboard-container">
            <h2>Добро пожаловать, Пользователь!</h2>
            <div id="user-dashboard-content">
                <!-- Содержимое панели пользователя -->
            </div>
            <button onclick="logout()"><span class="material-icons-outlined">close</span></button>
        </div>

        <!-- Контейнер восстановления пароля -->
        <div class="container hidden" id="forgot-password-container">
            <h2>Восстановление пароля</h2>
            <form id="forgot-password-form" onsubmit="handleForgotPassword(event)">
                <input type="email" id="forgot-email" name="forgot-email" placeholder="Email" required oninput="validateForgotPasswordForm()">
                <button type="submit" id="forgot-submit-btn" disabled>Отправить ссылку для сброса</button>
            </form>
            <div class="toggle-link" onclick="toggleForgotPasswordForm()">Вернуться</div>
        </div>
    </main>

    <footer>
        <!-- Content for the footer if needed -->
    </footer>

    <!-- Загрузка основного скрипта -->
    <script type="module" src="src/main.min.js" defer></script>
    <script type="module" src="src/auth.min.js" defer></script>
    <script type="module" src="src/admin.min.js" defer></script>
</body>

</html>
